# 参加記

リアルタイムで書いている。

## 問題を読んだ

- インタラクティブ！！！
- パスの長さしか教えてくれないので、長短長短と中中中中が同一視されたりして悲しい
- 得点は、あとのクエリほど重視されるように、指数的に重み付けされた平均
  - 満点は $10^9$
  - 最後の $100$ 回がスコアの $21\%$ を占める
  - 最後の $283$ 回がスコアの $50\%$ を占める
  - 最後の $500$ 回がスコアの $73\%$ を占める
  - 最後の $664$ 回がスコアの $85\%$ を占める
  - 最後の $861$ 回がスコアの $95\%$ を占める
  - 最後の $969$ 回がスコアの $99\%$ を占める
- 入力生成が大事そう

## 入力生成まとめ

厳密には問題文にあるので、お気持ち

- $D$ によって、辺の長さの散らばり具合が決まる
- $M$ は $1$ か $2$
- 辺の長さは $1000$ 以上 $9000$ 以下
- ある**街道**の中では、辺の長さはたかだか $2D$ しか違わない
- **街道**のつくられかたは $M$ によって異なる
  - $M=1$ のとき、軸に平行な $30$ 頂点の道が街道である
  - $M=2$ のとき、軸に平行な $30$ 頂点の道がそれぞれ $2$ つに割られて街道になる
    - それぞれの街道は少なくとも $2$ つの頂点を含む
- 始点と終点のマンハッタン距離は $10$ 以上

## 環境整備

- インタラクティブどうしようかなぁ
- `trait Judge` をつくる
  - `fn query(&self, k: usize) -> Query`: `k` 番目のクエリを聞く。
  - `fn path_length(&mut self, k: usize, path: String) -> u32`: `k` 番目のクエリに答える。
  - `k` は不要だが、`Judge` 内部でも `k` を持ち、それと一致しなければ panic するようにする役割がある。